{"ast":null,"code":"var _jsxFileName = \"/home/alta4/Desktop/livecode_react/src/pages/Signin.jsx\";\nimport React from 'react';\nimport Header from '../components/header';\nimport SigninSection from '../components/signin';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'unistore/react';\nimport { actions, store } from '../store';\nimport { Redirect, Link } from 'react-router-dom';\n\nclass Signin extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleMasukan = e => {\n      const self = this;\n      store.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleCategory = async e => {\n      return true;\n    };\n\n    this.handleLogin = () => {\n      const data = {\n        email: 'agungajin19@gmail.com',\n        password: 'password'\n      };\n      const self = this;\n      axios.post('https://login-agung.free.beeceptor.com/login', data).then(function (response) {\n        console.log(response.data); // if (response.data.hasOwnProperty('api_key')){\n        //     localStorage.setItem('fullname', response.data.fullname)\n        //     localStorage.setItem('email', response.data.email)\n        //     localStorage.setItem('status_login', true)\n        //     self.props.history.push(\"/profile\")\n        // }\n\n        if (response.data.api_key !== null) {\n          store.setState({\n            fullname: response.data.fullname,\n            email: response.data.email,\n            status_login: response.data.status_login\n          });\n          self.props.history.push(\"/profile\");\n        }\n      }).catch(function (error) {});\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(SigninSection, {\n      masukan: e => this.handleMasukan(e),\n      login: this.handleLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Back to Home\")));\n  }\n\n}\n\nexport default connect(actions)(withRouter(Signin));","map":{"version":3,"sources":["/home/alta4/Desktop/livecode_react/src/pages/Signin.jsx"],"names":["React","Header","SigninSection","axios","withRouter","connect","actions","store","Redirect","Link","Signin","Component","handleMasukan","e","self","setState","target","name","value","handleCategory","handleLogin","data","email","password","post","then","response","console","log","api_key","fullname","status_login","props","history","push","catch","error","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,OAAR,QAAsB,gBAAtB;AACA,SAAQC,OAAR,EAAiBC,KAAjB,QAA6B,UAA7B;AACA,SAAQC,QAAR,EAAkBC,IAAlB,QAA6B,kBAA7B;;AAEA,MAAMC,MAAN,SAAqBV,KAAK,CAACW,SAA3B,CAAoC;AAAA;AAAA;;AAAA,SAKhCC,aALgC,GAKfC,CAAD,IAAM;AAClB,YAAMC,IAAI,GAAG,IAAb;AACAP,MAAAA,KAAK,CAACQ,QAAN,CAAe;AAAC,SAACF,CAAC,CAACG,MAAF,CAASC,IAAV,GAAkBJ,CAAC,CAACG,MAAF,CAASE;AAA5B,OAAf;AACH,KAR+B;;AAAA,SAShCC,cATgC,GASf,MAAON,CAAP,IAAa;AAC1B,aAAO,IAAP;AACH,KAX+B;;AAAA,SAYhCO,WAZgC,GAYlB,MAAK;AACf,YAAMC,IAAI,GAAG;AACTC,QAAAA,KAAK,EAAG,uBADC;AAETC,QAAAA,QAAQ,EAAG;AAFF,OAAb;AAIA,YAAMT,IAAI,GAAG,IAAb;AACAX,MAAAA,KAAK,CACAqB,IADL,CACU,8CADV,EAC0DH,IAD1D,EAEKI,IAFL,CAEU,UAASC,QAAT,EAAkB;AACpBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACL,IAArB,EADoB,CAEpB;AACA;AACA;AACA;AACA;AACA;;AACA,YAAIK,QAAQ,CAACL,IAAT,CAAcQ,OAAd,KAA0B,IAA9B,EAAmC;AAC/BtB,UAAAA,KAAK,CAACQ,QAAN,CAAe;AACXe,YAAAA,QAAQ,EAAGJ,QAAQ,CAACL,IAAT,CAAcS,QADd;AAEXR,YAAAA,KAAK,EAAGI,QAAQ,CAACL,IAAT,CAAcC,KAFX;AAGXS,YAAAA,YAAY,EAAGL,QAAQ,CAACL,IAAT,CAAcU;AAHlB,WAAf;AAKAjB,UAAAA,IAAI,CAACkB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH;AACJ,OAlBL,EAmBKC,KAnBL,CAmBW,UAASC,KAAT,EAAe,CACrB,CApBL;AAqBH,KAvC+B;AAAA;;AAyChCC,EAAAA,MAAM,GAAE;AACJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGI,oBAAC,aAAD;AACA,MAAA,OAAO,EAAExB,CAAC,IAAE,KAAKD,aAAL,CAAmBC,CAAnB,CADZ;AAEA,MAAA,KAAK,EAAI,KAAKO,WAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,CAPJ,CADJ;AAaH;;AAvD+B;;AAyDpC,eAAef,OAAO,CAClBC,OADkB,CAAP,CAEbF,UAAU,CAACM,MAAD,CAFG,CAAf","sourcesContent":["import React from 'react'\nimport Header from '../components/header'\nimport SigninSection from '../components/signin'\nimport axios from 'axios'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'unistore/react'\nimport {actions, store} from '../store'\nimport {Redirect, Link} from 'react-router-dom'\n\nclass Signin extends React.Component{\n    // state = {\n    //     email : 'agungajin19@gmail.com',\n    //     password : 'password'\n    // }\n    handleMasukan = (e) =>{\n        const self = this\n        store.setState({[e.target.name] : e.target.value})\n    }\n    handleCategory = async (e) => {\n        return true\n    }\n    handleLogin = () =>{\n        const data = {\n            email : 'agungajin19@gmail.com',\n            password : 'password'\n        }\n        const self = this\n        axios\n            .post('https://login-agung.free.beeceptor.com/login', data)\n            .then(function(response){\n                console.log(response.data)\n                // if (response.data.hasOwnProperty('api_key')){\n                //     localStorage.setItem('fullname', response.data.fullname)\n                //     localStorage.setItem('email', response.data.email)\n                //     localStorage.setItem('status_login', true)\n                //     self.props.history.push(\"/profile\")\n                // }\n                if (response.data.api_key !== null){\n                    store.setState({\n                        fullname : response.data.fullname, \n                        email : response.data.email,\n                        status_login : response.data.status_login,\n                    })\n                    self.props.history.push(\"/profile\")\n                }\n            })\n            .catch(function(error){\n            })\n    }\n    \n    render(){\n        return(\n            <div>\n                {/* <Header category = {e => this.handleCategory(e)}\n                {...this.props}/> */}\n                <SigninSection\n                masukan={e=>this.handleMasukan(e)}\n                login = {this.handleLogin}\n                />\n                <div>\n                <Link to=\"/\">Back to Home</Link>\n                </div>\n            </div>\n        )\n    }\n}\nexport default connect(\n    actions\n)(withRouter(Signin))"]},"metadata":{},"sourceType":"module"}
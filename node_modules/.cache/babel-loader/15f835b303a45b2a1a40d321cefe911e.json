{"ast":null,"code":"import createStore from \"unistore\";\nimport Axios from 'axios';\nconst initialState = {\n  api_key: '',\n  email: '',\n  fullname: '',\n  status_login: '',\n  category: 'indonesia',\n  listNews: [],\n  listNewsEverything: [],\n  isLoading: '',\n  isloadingEverything: ''\n};\nexport const store = createStore(initialState);\nconst url = 'https://newsapi.org/v2/top-headlines?country=id&apiKey=ed7f829e2def4c558e0831a50968ac31';\nconst url1 = 'https://newsapi.org/v2/everything?apiKey=ed7f829e2def4c558e0831a50968ac31';\nexport const actions = store => ({\n  getTopList: () => {\n    const self = this;\n    Axios.get(`${url}`).then(function (response) {\n      store.setState({\n        listNews: response.data.articles,\n        isLoading: false\n      });\n    }).catch(function (error) {\n      store.setState({\n        isLoading: false\n      });\n    });\n  },\n  getEveryThing: state => {\n    const self = this; // console.log('ini kategory abc', store.getState().category)\n    // console.log('ini kategory abc', category)\n    // console.warn(\"cek state category on store\",store.getState());\n\n    Axios.get(`${url1}&q=${state.category}`).then(function (response) {\n      store.setState({\n        listNewsEverything: response.data.articles,\n        isLoadingEverything: false\n      });\n    }).catch(function (error) {\n      store.setState({\n        isLoadingEverything: false\n      });\n    });\n  },\n  // handleCategory : async (state, e) => {\n  //     console.warn('ini buat liat target tesssssssssssssssssss',e)\n  //     let keyword = e\n  //     await store.setState({category : keyword, isLoadingEverything: true})\n  // this.props.getEveryThing()\n  // }\n  handleCategory: async (state, e) => {\n    const self = this;\n    console.warn('ini buat liat target', e);\n    let keyword = e;\n    await store.setState({\n      category: keyword,\n      isLoadingEverything: true\n    });\n    getEveryThingNews();\n  },\n  handleSearch: async (state, e) => {\n    const self = this;\n    console.warn('ini buat liat target', e.target.value);\n    let keyword = e.target.value;\n    console.warn('cek sebelum berubah', state.category);\n    await store.setState({\n      category: keyword,\n      isLoadingEverything: true\n    });\n    console.warn('cek udah berubah', state.category);\n    getEveryThingNews();\n  }\n});\nexport const getEveryThingNews = state => {\n  const self = this; // console.log('ini kategory abc', store.getState().category)\n  // console.log('ini kategory abc', category)\n  // console.warn(\"cek state category on store\",store.getState());\n\n  Axios.get(`${url1}&q=${initialState.category}`).then(function (response) {\n    store.setState({\n      listNewsEverything: response.data.articles,\n      isLoadingEverything: false\n    });\n  }).catch(function (error) {\n    store.setState({\n      isLoadingEverything: false\n    });\n  });\n};","map":{"version":3,"sources":["/home/alta4/Desktop/React/blogs_listing/src/store.js"],"names":["createStore","Axios","initialState","api_key","email","fullname","status_login","category","listNews","listNewsEverything","isLoading","isloadingEverything","store","url","url1","actions","getTopList","self","get","then","response","setState","data","articles","catch","error","getEveryThing","state","isLoadingEverything","handleCategory","e","console","warn","keyword","getEveryThingNews","handleSearch","target","value"],"mappings":"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","sourcesContent":["import createStore from \"unistore\"\nimport Axios from 'axios'\n\nconst initialState ={\n    api_key : '',\n    email : '',\n    fullname : '',\n    status_login : '',\n    category : 'indonesia',\n    listNews : [],\n    listNewsEverything : [],\n    isLoading : '',\n    isloadingEverything : '',\n}\nexport const store = createStore(initialState)\n\nconst url ='https://newsapi.org/v2/top-headlines?country=id&apiKey=ed7f829e2def4c558e0831a50968ac31'\nconst url1 = 'https://newsapi.org/v2/everything?apiKey=ed7f829e2def4c558e0831a50968ac31'\n\n\nexport const actions = store => ({\n    getTopList : ()=>{\n        const self = this\n        Axios\n            .get(`${url}`)\n            .then(function(response){\n                store.setState({listNews: response.data.articles, isLoading: false})\n            })\n            .catch(function(error){\n                store.setState({isLoading: false})\n            })\n    },\n    getEveryThing : (state) =>{\n        const self = this\n        // console.log('ini kategory abc', store.getState().category)\n        // console.log('ini kategory abc', category)\n        // console.warn(\"cek state category on store\",store.getState());\n        \n        Axios\n            .get(`${url1}&q=${state.category}`)\n            \n            .then(function(response){\n                store.setState({listNewsEverything: response.data.articles, isLoadingEverything: false})\n            })\n            .catch(function(error){\n                store.setState({isLoadingEverything: false})\n            })\n    },\n\n    // handleCategory : async (state, e) => {\n    //     console.warn('ini buat liat target tesssssssssssssssssss',e)\n    //     let keyword = e\n    //     await store.setState({category : keyword, isLoadingEverything: true})\n        // this.props.getEveryThing()\n    // }\n    handleCategory : async (state,e) => {\n        const self = this\n        console.warn('ini buat liat target',e)\n        let keyword = e\n        await store.setState({category : keyword, isLoadingEverything: true})\n        getEveryThingNews()\n    },\n\n    handleSearch : async (state,e) => {\n        const self = this\n        console.warn('ini buat liat target',e.target.value)\n        let keyword = e.target.value\n        console.warn('cek sebelum berubah', state.category)\n        await store.setState({category : keyword, isLoadingEverything: true })\n        console.warn('cek udah berubah', state.category)\n\n        getEveryThingNews()\n    }\n    \n})\n\nexport const getEveryThingNews = (state) =>{\n    const self = this\n    // console.log('ini kategory abc', store.getState().category)\n    // console.log('ini kategory abc', category)\n    // console.warn(\"cek state category on store\",store.getState());\n    \n    \n    Axios\n        .get(`${url1}&q=${initialState.category}`)\n        \n        .then(function(response){\n            store.setState({listNewsEverything: response.data.articles, isLoadingEverything: false})\n        })\n        .catch(function(error){\n            store.setState({isLoadingEverything: false})\n        })\n}\n\n"]},"metadata":{},"sourceType":"module"}
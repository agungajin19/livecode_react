{"ast":null,"code":"import createStore from \"unistore\";\nimport Axios from 'axios';\nconst initialState = {// api_key : '',\n  // email : '',\n  // fullname : '',\n  // status_login : '',\n  // category : 'indonesia',\n  // listNews : [],\n  // listNewsEverything : [],\n  // isLoading : '',\n  // isloadingEverything : '',\n};\nexport const store = createStore(initialState);\nconst url = 'https://newsapi.org/v2/top-headlines?country=id&apiKey=ed7f829e2def4c558e0831a50968ac31';\nconst url1 = 'https://newsapi.org/v2/everything?apiKey=ed7f829e2def4c558e0831a50968ac31';\nexport const actions = store => ({\n  getTopList: () => {\n    Axios.get(`${url}`).then(function (response) {\n      store.setState({\n        listNews: response.data.articles,\n        isLoading: false\n      });\n    }).catch(function (error) {\n      store.setState({\n        isLoading: false\n      });\n    });\n  },\n  getEveryThing: state => {\n    Axios.get(`${url1}&q=${state.category}`).then(function (response) {\n      store.setState({\n        listNewsEverything: response.data.articles,\n        isLoadingEverything: false\n      });\n    }).catch(function (error) {\n      store.setState({\n        isLoadingEverything: false\n      });\n    });\n  },\n  handleCategory: async (state, e) => {\n    console.warn('ini buat liat target', e);\n    let keyword = e;\n    console.warn('cek sebelum berubah', state.category);\n    console.warn('cek udah berubah', state.category);\n    getEveryThingNews(keyword);\n  },\n  handleSearch: async (state, e) => {\n    console.warn('ini buat liat target', e.target.value);\n    let keyword = e.target.value;\n    await store.setState({\n      category: keyword,\n      isLoadingEverything: true\n    });\n    getEveryThingNews(keyword);\n  }\n});\nexport const getEveryThingNews = async keyword => {\n  await Axios.get(`${url1}&q=${keyword}`).then(function (response) {\n    store.setState({\n      listNewsEverything: response.data.articles,\n      isLoadingEverything: false\n    });\n  }).catch(function (error) {\n    store.setState({\n      isLoadingEverything: false\n    });\n  });\n};","map":{"version":3,"sources":["/home/alta4/Desktop/livecode_react/src/store.js"],"names":["createStore","Axios","initialState","store","url","url1","actions","getTopList","get","then","response","setState","listNews","data","articles","isLoading","catch","error","getEveryThing","state","category","listNewsEverything","isLoadingEverything","handleCategory","e","console","warn","keyword","getEveryThingNews","handleSearch","target","value"],"mappings":"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","sourcesContent":["import createStore from \"unistore\"\nimport Axios from 'axios'\n\nconst initialState ={\n    // api_key : '',\n    // email : '',\n    // fullname : '',\n    // status_login : '',\n    // category : 'indonesia',\n    // listNews : [],\n    // listNewsEverything : [],\n    // isLoading : '',\n    // isloadingEverything : '',\n}\nexport const store = createStore(initialState)\n\nconst url ='https://newsapi.org/v2/top-headlines?country=id&apiKey=ed7f829e2def4c558e0831a50968ac31'\nconst url1 = 'https://newsapi.org/v2/everything?apiKey=ed7f829e2def4c558e0831a50968ac31'\n\n\nexport const actions = store => ({\n    getTopList : ()=>{\n        Axios\n            .get(`${url}`)\n            .then(function(response){\n                store.setState({listNews: response.data.articles, isLoading: false})\n            })\n            .catch(function(error){\n                store.setState({isLoading: false})\n            })\n    },\n    getEveryThing : (state) =>{ \n        Axios\n            .get(`${url1}&q=${state.category}`)\n            \n            .then(function(response){\n                store.setState({listNewsEverything: response.data.articles, isLoadingEverything: false})\n            })\n            .catch(function(error){\n                store.setState({isLoadingEverything: false})\n            })\n    },\n    handleCategory : async (state,e) => { \n        console.warn('ini buat liat target',e)\n        let keyword = e\n        console.warn('cek sebelum berubah', state.category)\n        console.warn('cek udah berubah', state.category)\n        getEveryThingNews(keyword)\n    },\n\n    handleSearch : async (state,e) => { \n        console.warn('ini buat liat target',e.target.value)\n        let keyword = e.target.value\n        await store.setState({category : keyword, isLoadingEverything: true })\n        getEveryThingNews(keyword)\n    }\n    \n})\n\nexport const getEveryThingNews = async (keyword) =>{\n    await Axios\n        .get(`${url1}&q=${keyword}`)\n        .then(function(response){\n            store.setState({listNewsEverything: response.data.articles, isLoadingEverything: false})\n        })\n        .catch(function(error){\n            store.setState({isLoadingEverything: false})\n        })\n}\n\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/home/alta4/Desktop/livecode_react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta4/Desktop/livecode_react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta4/Desktop/livecode_react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta4/Desktop/livecode_react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/alta4/Desktop/livecode_react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/alta4/Desktop/livecode_react/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Header from'../components/header';import SigninSection from'../components/signin';import axios from'axios';import{withRouter}from'react-router-dom';import{connect}from'unistore/react';import{actions,store}from'../store';import{Redirect,Link}from'react-router-dom';var Signin=/*#__PURE__*/function(_React$Component){_inherits(Signin,_React$Component);function Signin(){var _getPrototypeOf2;var _this;_classCallCheck(this,Signin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Signin)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.handleLogin=function(){var self=_assertThisInitialized(_this);axios.post('https://api-todofancy.herokuapp.com/api/auth').then(function(response){console.log(response.data);if(response.data.status==='oke'){store.setState({username:response.data.user_data.username,email:response.data.user_data.email,avatar:response.data.user_data.avatar,status_login:true});self.props.history.push(\"/profile\");}}).catch(function(error){});};return _this;}_createClass(Signin,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(SigninSection// masukan={e=>this.handleMasukan(e)}\n,{login:this.handleLogin}),React.createElement(\"div\",null,React.createElement(Link,{to:\"/\"},\"Back to Home\")));}}]);return Signin;}(React.Component);export default connect(actions)(withRouter(Signin));","map":{"version":3,"sources":["/home/alta4/Desktop/livecode_react/src/pages/Signin.jsx"],"names":["React","Header","SigninSection","axios","withRouter","connect","actions","store","Redirect","Link","Signin","handleLogin","self","post","then","response","console","log","data","status","setState","username","user_data","email","avatar","status_login","props","history","push","catch","error","Component"],"mappings":"4tBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,sBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAAQC,OAAR,KAAsB,gBAAtB,CACA,OAAQC,OAAR,CAAiBC,KAAjB,KAA6B,UAA7B,CACA,OAAQC,QAAR,CAAkBC,IAAlB,KAA6B,kBAA7B,C,GAEMC,CAAAA,M,2YAKFC,W,CAAc,UAAK,CACf,GAAMC,CAAAA,IAAI,8BAAV,CACAT,KAAK,CACAU,IADL,CACU,8CADV,EAEKC,IAFL,CAEU,SAASC,QAAT,CAAkB,CACpBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACA,GAAIH,QAAQ,CAACG,IAAT,CAAcC,MAAd,GAAyB,KAA7B,CAAmC,CAC/BZ,KAAK,CAACa,QAAN,CAAe,CACXC,QAAQ,CAAGN,QAAQ,CAACG,IAAT,CAAcI,SAAd,CAAwBD,QADxB,CAEXE,KAAK,CAAGR,QAAQ,CAACG,IAAT,CAAcI,SAAd,CAAwBC,KAFrB,CAGXC,MAAM,CAAGT,QAAQ,CAACG,IAAT,CAAcI,SAAd,CAAwBE,MAHtB,CAIXC,YAAY,CAAG,IAJJ,CAAf,EAMAb,IAAI,CAACc,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EACH,CACJ,CAbL,EAcKC,KAdL,CAcW,SAASC,KAAT,CAAe,CACrB,CAfL,EAgBH,C,yEAEO,CACJ,MACI,gCAGI,oBAAC,aACD;AADA,EAEA,KAAK,CAAI,KAAKnB,WAFd,EAHJ,CAOI,+BACA,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,iBADA,CAPJ,CADJ,CAaH,C,oBAvCgBX,KAAK,CAAC+B,S,EAyC3B,cAAe1B,CAAAA,OAAO,CAClBC,OADkB,CAAP,CAEbF,UAAU,CAACM,MAAD,CAFG,CAAf","sourcesContent":["import React from 'react'\nimport Header from '../components/header'\nimport SigninSection from '../components/signin'\nimport axios from 'axios'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'unistore/react'\nimport {actions, store} from '../store'\nimport {Redirect, Link} from 'react-router-dom'\n\nclass Signin extends React.Component{\n    // handleMasukan = (e) =>{\n    //     const self = this\n    //     store.setState({[e.target.name] : e.target.value})\n    // }\n    handleLogin = () =>{\n        const self = this\n        axios\n            .post('https://api-todofancy.herokuapp.com/api/auth')\n            .then(function(response){\n                console.log(response.data)\n                if (response.data.status === 'oke'){\n                    store.setState({\n                        username : response.data.user_data.username, \n                        email : response.data.user_data.email,\n                        avatar : response.data.user_data.avatar,\n                        status_login : true,\n                    })\n                    self.props.history.push(\"/profile\")\n                }\n            })\n            .catch(function(error){\n            })\n    }\n    \n    render(){\n        return(\n            <div>\n                {/* <Header category = {e => this.handleCategory(e)}\n                {...this.props}/> */}\n                <SigninSection\n                // masukan={e=>this.handleMasukan(e)}\n                login = {this.handleLogin}\n                />\n                <div>\n                <Link to=\"/\">Back to Home</Link>\n                </div>\n            </div>\n        )\n    }\n}\nexport default connect(\n    actions\n)(withRouter(Signin))"]},"metadata":{},"sourceType":"module"}